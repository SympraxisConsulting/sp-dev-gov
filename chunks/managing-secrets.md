---
title: Managing Secrets
description: TBD
audience: Developer, Administrator, Security Administrator
product-major: SharePoint
product-minor: Azure
glossary-links: app secret, client secret, certificate, key, password
version: 0.01 (DRAFT)
---

# Managing Secrets

## Summary

Many projects end up generating _secrets_ which require careful management. Examples include passwords, client or app secrets, encryption keys, and digital certificates. This nugget provides options for managing these secrets in a development project.

Secrets like this are less likely to turn up in a SharePoint Framework project, but are required in Provider Hosted Add-ins. They also often occur when extending SharePoint via Azure Functions, web apps, remote timer jobs, etc.

## Options

There is a range of options for secret management; your organization may want to choose one or more of them for different environments such as Development, Staging, and Production. In no case will secrets be shared by more than one environment (for example, sharing a certificate or identity between Development and Staging is never allowed.)

Fill in and include one or more of the following optional sections for each application environment in your governance plan (for example: development, staging, and production).

### Option 1 - No Security

This option is appropriate in lab environments where no sensitive data is used, and the priority is ease of access. Still, storing the secrets in source control isn't a good idea; use another sharing mechanism that's available to all developers and administrators.

* Developers and administrators log in using their own Azure AD accounts, which have administrator rights. There may also be shared administrator accounts, the passwords of which are managed as secrets.
* Secrets are shared by all developers and administrators
* There is no attempt to make secrets unique or hard to guess, or to encrypt them
* The default password will be ______________
* Non-file secrets such as passwords and keys are stored in clear text in a shared (pick one: OneNote, spreadsheet, etc.) located at ______________
* File based secrets such as certificates are encrypted, with the private key certificate encrypted with a password placed in the password manager. The files are stored in (pick one: file share, secondary OneDrive or SharePoint site, etc.)
* Secrets will be deployed to applications using (pick one, based on the most secure environment the code will be used in: Application configuration files, Azure KeyVault, ???)
* A shared expiration calendar is maintained in this location __________ to track the expiration of app secrets, certificates, and any other secrets which expire. __________ is the person(s) responsible for monitoring this calendar and ensuring secrets are updated at least ___ weeks before they expire.
* Expiration dates will be selected as follows:
  - App secrets (Azure AD applications) - 2 years
  - Client secrets (Add-ins) - 2 years
  - Client authentication certificates (Azure AD applications) - 2 years
  - Account passwords - no expiration
  - SSL/TLS certificates - 2 years
  - Others - _________________

### Option 2 - Light Security

This option is appropriate for small teams working on projects that need to be secure, but aren't subject to special considerations such as industry regulations or rigorous company policies.

* Developers and administrators log in using their own Azure AD accounts, which have administrator rights. There are no shared administrator accounts.
* Secrets are shared by all developers and administrators.
* Passwords will be generated by (pick one: KeePass, other tool) and must meet these complexity requirements: ________________
* Non-file secrets such as passwords and keys are encrypted and stored in (pick one: KeePass, PassPack, or another password manager). The secrets can be accessed using (pick one based on the password manager selected: a shared master password, individual user accounts)
* File based secrets such as certificates are encrypted, with the private key certificate encrypted with a password placed in the password manager. The files are stored in (pick one: file share, secondary OneDrive or SharePoint site, etc.)
* Secrets will be deployed to applications and stored in app settings in Azure. They are deployed (pick one: manually, using Azure Resource Manager PowerShell and Templates, other). Any team member can view and deploy the secrets.
* A shared expiration calendar is maintained in this location __________ to track the expiration of app secrets, certificates, and any other secrets which expire. __________ is the person(s) responsible for monitoring this calendar and ensuring secrets are updated at least ___ weeks before they expire.
* Expiration dates will be selected as follows:
  - App secrets (Azure AD applications) - 2 years
  - Client secrets (Add-ins) - 2 years
  - Client authentication certificates (Azure AD applications) - 2 years
  - Account passwords - 180 days
  - SSL/TLS certificates - 2 years
  - Others - _________________

### Option 3 - Medium Security

This option is appropriate for small teams working on projects that have higher security requirements, but where there needs to be a balance of ease of use by developers and administrators, and there is no dedicated security administrator role.

* Developers and administrators log in using their own Azure AD accounts, which have administrator rights. There are no shared administrator accounts.
* Secrets are shared by all developers and administrators who have a need to know
* Passwords will be generated by (pick one: KeePass, other tool) and must meet these complexity requirements: ________________
* All secrets including passwords, keys, and certificates are stored in a hardware security device. The secrets will be stored in (pick one: Azure Key Vault or another HSM solution).
* The App Secret is installed into applications using an automated process which reads it from Key Vault or the HSM device and places it in the App Settings or appropriate config file. All other secrets are read from Key Vault or the HSM by the applications based on their App ID's and App Secrets.
* A shared expiration calendar is maintained in this location __________ to track the expiration of app secrets, certificates, and any other secrets which expire. __________ is the person(s) responsible for monitoring this calendar and ensuring secrets are updated at least ___ weeks before they expire.
* Expiration dates will be selected as follows:
  - App secrets (Azure AD applications) - 1 year
  - Client secrets (Add-ins) - 1 year
  - Client authentication certificates (Azure AD applications) - 1 year
  - Account passwords - 60 days
  - SSL/TLS certificates - 1 year
  - Others - _________________

### Option 4 - High Security

This option is appropriate for environments that require a higher level of security than is provided by the other options. You may want to add additional provisions to this.

* Developers, administrators, and security admins are provided individual administrative Azure AD accounts separate from their day-to-day user accounts. There are no shared administrator accounts.
* Secrets are maintained by dedicated security administrators who have a need to know, and are not accessible by developers or administrators.
* Passwords will be generated by (pick one: KeePass, other tool) and must meet these complexity requirements: ________________
* All secrets including passwords, keys, and certificates are stored in a hardware security device. The secrets will be stored in (pick one: Azure Key Vault or another HSM solution).
* The App Secret is installed into applications using an automated process which reads it from Key Vault or the HSM device and places it in the App Settings or appropriate config file. This operation must be performed by a security administrator since others don't have permission to access the secrets. All other secrets are read from Key Vault or the HSM by the applications based on their App ID's and App Secrets.
* An shared calendar is maintained in this location __________ by the security administrators to track the expiration of app secrets, certificates, and any other secrets which expire. __________ is the person(s) responsible for monitoring this calendar and ensuring secrets are updated at least ____ weeks before they expire.
* Expiration dates will be selected as follows:
  - App secrets (Azure AD applications) - 1 year
  - Client secrets (Add-ins) - 1 year
  - Client authentication certificates (Azure AD applications) - 1 year
  - Account passwords - 60 days
  - SSL/TLS certificates - 1 year
  - Others - _________________
